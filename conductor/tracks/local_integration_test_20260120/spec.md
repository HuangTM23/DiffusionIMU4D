# Track Specification - 本地集成测试与验证 (local_integration_test_20260120)

## 1. 业务背景
在将代码部署到大规模计算集群之前，必须在本地通过小规模数据集验证整个算法管线的正确性。特别是要验证扩散模型能否在简单数据上**过拟合**（证明其具有学习能力），以及推理生成的轨迹是否与 Ground Truth 在物理上一致（证明坐标系和积分逻辑正确）。

## 2. 目标
- 使用 Debug 数据集（1-2 条序列）进行过拟合训练。
- 验证 Training Loss 能够显著下降。
- 运行全流程评估，生成轨迹对比图。
- 确认预测轨迹与 GT 轨迹在形状和尺度上基本吻合。

## 3. 技术设计

### 3.1 训练配置 (Overfit Config)
- **Epochs**: 50-100 (足够让模型记住数据)
- **Batch Size**: 小批量 (e.g. 4-16)
- **Data**: 仅使用 `list_debug.txt`
- **Scheduler**: DDPM (训练), DDIM (推理)

### 3.2 验证标准
- **定量**: Training Loss < 0.1 (具体值取决于归一化，但应呈下降趋势)。
- **定性**: `test_diff.py` 输出的 `.png` 图中，红线 (Pred) 应该紧贴黑线 (GT)。允许有轻微抖动，但不能有方向性错误。

## 4. 验收标准
- [ ] 训练脚本无报错运行 50+ epochs。
- [ ] Loss 曲线显示收敛。
- [ ] 推理脚本成功生成轨迹图。
- [ ] 轨迹图中 GT 和 Pred 高度重合。
